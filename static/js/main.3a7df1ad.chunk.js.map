{"version":3,"sources":["context/BottleContext.js","apis/BottleFinder.js","components/DataTable/Header/index.js","components/DataTable/Search/index.js","components/DataTable/Pagination/index.js","assets/images/loading.gif","components/FullPageLoader/index.js","components/hooks/useFullPageLoader.js","components/BottlesList.js","routes/Home.js","routes/Login.js","routes/Register.js","components/Header.js","App.js","reportWebVitals.js","index.js"],"names":["BottleContext","createContext","BottleContextProvider","props","useState","bottles","setBottles","search","setSearch","token","setToken","user","setUser","ingredients","setIngredients","selectedBottle","setSelectedBottle","message","setMessage","Provider","value","addBottles","bottle","addIngredients","ingredient","children","axios","create","baseURL","Header","headers","onSorting","sortingField","setSortingField","sortingOrder","setSortingOrder","className","map","name","field","sortable","onClick","order","onSortingChange","class","Search","onSearch","type","style","width","placeholder","onChange","e","target","PaginationComponent","total","itemsPerPage","currentPage","onPageChange","totalPages","setTotalPages","useEffect","Math","ceil","paginationItems","useMemo","pages","i","push","Pagination","Item","active","Prev","disabled","Next","FullPageLoader","src","loading","alt","useFullPageLoader","setLoading","BottlesList","useContext","loader","showLoader","hideLoader","totalItems","setTotalItems","setCurrentPage","sorting","setSorting","setHeaders","history","useHistory","is_admin","a","BottleFinder","get","Authorization","localStorage","getItem","fetchBottle","console","log","data","fetchData","handleDelete","id","stopPropagation","delete","response","filter","bottleData","computedBottles","toLowerCase","includes","category","country","length","reversed","sort","b","localeCompare","slice","page","_id","vintage","handleUpdate","Home","date","Date","getTime","jwtDecode","exp","Login","username","setUsername","password","setPassword","setError","errCode","setErrCode","handleSubmitLogin","preventDefault","post","result","access_token","setItem","JSON","stringify","substr","action","htmlFor","to","Register","error","errorDetails","setErrorDetails","handleSubmitRegister","setTimeout","removeItem","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3a7df1ad.chunk.js","sourcesContent":["import React, {useState, createContext} from 'react';\n\nexport const BottleContext = createContext();\n\nexport const BottleContextProvider = (props) => {\n    const [bottles, setBottles] = useState([]);\n    const [search, setSearch] = useState(\"\");\n    const [token, setToken] = useState(\"\");\n    const [user, setUser] = useState(null);\n    const [ingredients, setIngredients] = useState([]);\n    \n    const [selectedBottle, setSelectedBottle] = useState(null)\n    const [message, setMessage] = useState(null)\n\n    const addBottles = (bottle) => {\n        setBottles([...bottles, bottle]);\n    }\n    const addIngredients = (ingredient) => {\n        setIngredients([...ingredients, ingredient]);\n    }\n    \n\n    return (\n        <BottleContext.Provider value={{\n            bottles, setBottles, addBottles, \n            search, setSearch, \n            selectedBottle, setSelectedBottle, \n            message, setMessage, \n            token, setToken, \n            user, setUser, \n            ingredients, setIngredients, addIngredients\n            }}>\n            {props.children}\n        </BottleContext.Provider>\n    );\n}","import axios from 'axios';\n\nexport default axios.create({\n    baseURL:\"https://api-apero-bar.herokuapp.com/api\",\n})","import React, {useState} from 'react'\n\nconst Header = ({headers, onSorting}) => {\n\n    const [sortingField, setSortingField] = useState(\"\");\n    const [sortingOrder, setSortingOrder] = useState(\"asc\");\n\n    const onSortingChange = field => {\n        const order = field === sortingField && sortingOrder === \"asc\" ? \"desc\" : \"asc\";\n        setSortingField(field);\n        setSortingOrder(order);\n        onSorting(field, order);\n    }\n\n    return (\n        <thead className=\"bg-primary text-white\">\n            <tr>\n                {headers.map( ({name, field, sortable}) => (\n                <th key={name}\n                    onClick= {() => sortable ? onSortingChange(field) : null }\n                >{name} \n                \n                {sortingField && sortingField === field && (\n                    sortingOrder === \"asc\" ? <i className=\"fas fa-arrow-down\"></i> : <i class=\"fas fa-arrow-up\"></i>\n                )}\n                </th>))}\n            </tr>\n        </thead>\n    )\n}\n\nexport default Header\n","import React, {useState} from 'react'\n\n\nconst Search = ({onSearch}) => {\n    const [search, setSearch] = useState('');\n\n    const onInputChange = (value) => {\n        setSearch(value);\n        onSearch(value);\n    }\n\n    return (\n        <input \n        type=\"text\"\n        className=\"form-control\"\n        style={{width:\"240px\"}}\n        placeholder=\"Recherche\"\n        value={search}\n        onChange={(e) => {\n            onInputChange(e.target.value)\n        }}\n        />\n    )\n}\n\nexport default Search\n","import React, {useState, useEffect, useMemo} from 'react'\nimport Pagination from 'react-bootstrap/Pagination'\n\nconst PaginationComponent = ({total=0, itemsPerPage=3, currentPage=1, onPageChange}) => {\n    const [totalPages, setTotalPages] = useState(0)\n\n    useEffect(() => {\n        if( total > 0 && itemsPerPage > 0 ) {\n            setTotalPages(Math.ceil(total / itemsPerPage));\n        }\n    }, [total, itemsPerPage]);\n\n    const paginationItems = useMemo(() => {\n        const pages = [];\n        for(let i=1; i<= totalPages; i++){\n            pages.push(<Pagination.Item key={i} active={i === currentPage} onClick={() => onPageChange(i)}>\n                {i}\n            </Pagination.Item>);\n        }\n        return pages\n    }, [ totalPages, currentPage, onPageChange ])\n    \n    if (totalPages === 0) return null;\n\n\n    return (\n    <Pagination>\n        <Pagination.Prev onClick={ () => onPageChange(currentPage-1)} disabled={currentPage === 1}/>\n            {paginationItems}\n        <Pagination.Next onClick={ () => onPageChange(currentPage+1)} disabled={currentPage === totalPages}/>\n    </Pagination>\n    );\n}\n\nexport default PaginationComponent\n","export default __webpack_public_path__ + \"static/media/loading.2187296e.gif\";","import React from 'react'\nimport loading from '../../assets/images/loading.gif'\n\n\nconst FullPageLoader = () => {\n    return (\n        <div className=\"fp-container\">\n            <img src={loading} alt=\"chargement\" className=\"fp-loader\"/>\n        </div>\n    )\n}\n\nexport default FullPageLoader;\n","import React, {useState} from 'react'\nimport FullPageLoader from '../FullPageLoader'\n\nconst useFullPageLoader = () => {\n    const [loading, setLoading] = useState(false)\n    return [ \n        loading ? <FullPageLoader /> : null,\n        () => setLoading(true), //Show loader\n        () => setLoading(false) //Hide Loader\n     ]\n}\n\nexport default useFullPageLoader\n","import React, {useEffect, useContext, useState, useMemo} from 'react';\nimport {BottleContext} from '../context/BottleContext'\nimport BottleFinder from '../apis/BottleFinder'\nimport Header from './DataTable/Header'\nimport Search from './DataTable/Search'\nimport Pagination from './DataTable/Pagination'\nimport useFullPageLoader from './hooks/useFullPageLoader'\nimport { useHistory } from 'react-router-dom';\nimport jwtDecode from 'jwt-decode';\n\n\nexport default function BottlesList(props) {\n    const {user, bottles, setBottles, token, setIngredients} = useContext(BottleContext);\n    const [loader, showLoader, hideLoader] = useFullPageLoader();\n    const [totalItems, setTotalItems] = useState(0);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [search, setSearch] = useState(\"\");\n    const [sorting, setSorting] = useState({field:\"\", order:\"\"});\n    const [headers, setHeaders] = useState([\n        {name: \"Nom\", field: \"name\", sortable:true},\n        // {name: \"Categorie\", field: \"category\", sortable:true},\n        {name: \"Type\", field: \"type\", sortable:true},\n        {name: \"Pays/Région\", field: \"country\", sortable:true},\n        {name: \"Millésime\", field: \"vintage\", sortable:true},\n        // {name: \"€\", field: \"price\", sortable:true}\n        ])\n    let history = useHistory();\n    const ITEMS_PER_PAGE = 50;\n  \n\n    \n    useEffect(() => {\n    \n    if(user && user.is_admin === true) {\n        setHeaders([...headers, {name: \"actions\", field: \"actions\"}])\n    }\n    // eslint-disable-next-line\n}, [user])\nuseEffect(() => {\n    \n    const fetchData = async () => {\n        showLoader();\n        try {\n\n            const fetchBottle = await BottleFinder.get(\"/bouteilles\",{headers : {\n                Authorization: `Bearer ${localStorage.getItem('bottletoken')}}`\n            }\n        })\n            console.log(\"🚀 ~ file: BottlesList.js ~ line 42 ~ fetchData ~ fetchBottle\", fetchBottle)\n            // const fetchIngredients = await BottleFinder.get(\"/ingredients\")\n\n            //console.log(response.data.Bottle)\n            setBottles(fetchBottle.data);\n            // setIngredients(fetchIngredients.data.Ingredient);\n            hideLoader();\n        }catch(err) {\n            console.log(err)\n        }\n    }\n    \n    fetchData()\n    // eslint-disable-next-line\n    }, [setBottles])\n\n\n    const handleDelete =  async (e, id) => {\n\n    console.log(id)\n        e.stopPropagation();\n        try {\n            const response = await BottleFinder.delete(`/bouteilles/${id}`, \n            {headers : {\n                Authorization: `Bearer ${token}`\n            }});\n            setBottles(bottles.filter(bottle => {\n                return bottle.id !== id\n            }))\n\n            \n            console.log(response);\n        } catch (err) {\n            console.log(err)\n        }\n    }\n\n    const handleUpdate = (e, id) => {\n        e.stopPropagation();\n        history.push(`/bottles/${id}/update`)\n    }\n\n\n    const handleBottleSelect = (id) => {\n        history.push(`/bottles/${id}`)\n    }\n\n    const bottleData = useMemo(() => {\n        let computedBottles = bottles;\n        \n\n        if(search){\n            computedBottles = computedBottles.filter(\n                bottle => \n                bottle.name.toLowerCase().includes(search.toLowerCase()) ||\n                bottle.category.toLowerCase().includes(search.toLowerCase()) ||\n                bottle.type.toLowerCase().includes(search.toLowerCase()) ||\n                bottle.country.toLowerCase().includes(search.toLowerCase())\n                // bottle.country.toString().toLowerCase().includes(search.toLowerCase())\n                \n            )\n            \n        }\n        setTotalItems(computedBottles.length);\n\n\n        //Sorting bottles\n        if(sorting.field) {\n            const reversed = sorting.order === \"asc\" ? 1 : -1;\n            computedBottles = computedBottles.sort(\n                (a,b) => \n                reversed * a[sorting.field].localeCompare(b[sorting.field])\n            )}\n\n\n        //Current Page slice\n        return computedBottles.slice(\n            (currentPage -1) * ITEMS_PER_PAGE, \n            (currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE)\n    }, [bottles, currentPage, search, sorting])\n\n    return (\n        <div>\n            \n             <div className=\"row w-100\">\n                <div className=\"col mb-3 col-12 text-center\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <Pagination \n                                total={totalItems}\n                                itemsPerPage={ITEMS_PER_PAGE}\n                                currentPage={currentPage}\n                                onPageChange={ page => setCurrentPage(page)}\n                            \n                            />\n\n                        </div>\n                        <div className=\"col-md-6 d-flex flex-row-reverse\">\n                            <Search \n                            onSearch={(value) => {\n                                setSearch(value);\n                                setCurrentPage(1)\n                            }}\n                            />\n                        </div> \n                    </div>\n                </div>\n\n\n            </div>\n            <table className=\"table table-hover\">\n                <Header headers={headers} onSorting={(field, order) => setSorting({field, order}) }/>\n                <tbody>\n                    \n                        {bottleData && bottleData.map(bottle => {\n                            return (\n                            <tr onClick={() => handleBottleSelect(bottle._id)} key={bottle.id}>\n                            \n                                <td>{bottle.name}</td>\n                                {/* <td>{bottle.category}</td> */}\n                                <td>{bottle.type}</td>\n                                <td>{bottle.country}</td>\n                                <td>{bottle.vintage}</td>\n  \n                                {user ? (user.is_admin ? <td className='row'>\n                                    <button className=\"btn btn-warning\" onClick={(e) => handleUpdate(e, bottle._id)}>Màj</button>\n                                    \n                                    <button className=\"btn btn-danger\" onClick={(e) => handleDelete(e, bottle._id)}>Sup</button>\n                                </td> : null) : null}\n\n                            </tr>\n                            )\n                        })}\n\n                    \n                    \n                </tbody>\n            </table>\n            {loader}\n        </div>\n    )\n}\n","import jwtDecode from 'jwt-decode';\nimport React, {useContext, useEffect} from 'react'\nimport { Router, useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport BottleList from '../components/BottlesList'\nimport {BottleContext} from '../context/BottleContext'\n\n\n\n\nexport default function Home() {\n    const {message, user} = useContext(BottleContext);\n    let history = useHistory();\n\n    const date = new Date().getTime()/1000\n\n    useEffect(() => {\n        if (!localStorage.getItem('bottletoken') || (localStorage.getItem('bottletoken') && jwtDecode(localStorage.getItem('bottletoken')).exp < date)) {\n            history.push('/login')\n        } \n    }, [])  \n\n    return (\n        <div>\n            {message ? <div className=\"alert alert-success\">{message}</div> : null}\n            <h1>Apéro-Bar de Cyril</h1>\n            {/* {user?<h2>Bienvenue {user.username}</h2> :null} */}\n            \n            <BottleList />\n           {/*  <Autolist/> */}\n\n        </div>\n    )\n}\n","import React, {useContext, useState} from 'react'\nimport { useHistory, Link } from 'react-router-dom';\nimport BottleFinder from '../apis/BottleFinder'\nimport {BottleContext} from '../context/BottleContext'\nimport jwtDecode from 'jwt-decode';\n\nconst Login = () => {\n    let history = useHistory();\n    const {message, setMessage, setToken, setUser} = useContext(BottleContext);\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    // eslint-disable-next-line\n    const [error, setError] = useState(\"\");\n    //const [errorDetails, setErrorDetails] = useState(\"\");\n    const [errCode, setErrCode] = useState(\"\");\n    \n    \n\n\n    const handleSubmitLogin = async(e) => {\n        e.preventDefault()\n        \n        try {\n            const result = await BottleFinder.post('/auth', {\n                username, \n                password\n            })\n            setError('');\n            setErrCode('');\n            console.log(result)\n            if(result.data.access_token){\n                localStorage.setItem('bottletoken',result.data.access_token);\n                setToken(result.data.access_token)\n                //console.log(jwtDecode(result.data.bottletoken))\n                setUser(jwtDecode(result.data.access_token))\n\n                setMessage('Vous êtes connecté')\n                history.push('/')\n            }\n            \n        } catch (err) {\n            console.log(JSON.stringify(err.message.substr(-3)))\n            setErrCode(err.message.substr(-3))\n            console.log(\"code\", errCode)\n            console.log(err)\n            \n        }\n    }\n\n    return (\n        <div>\n            <h1>Login</h1>\n            {message ? <div className=\"alert alert-success\">{message}</div> : null}\n            <form className=\"mb-2\" action=\"submit\">\n                <div className=\"form-row\">\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                        id=\"username\" placeholder=\"Username\" type=\"text\" className=\"form-control\"/>\n                    </div>\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"password\">Mot de passe</label>\n                        <input value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        id=\"password\" placeholder=\"Mot de passe\" type=\"password\" className=\"form-control\"/>\n                    </div>\n                    \n                </div>\n                \n                \n                <button \n                type=\"submit\"\n                onClick={handleSubmitLogin}\n                className=\"btn btn-primary\">Submit</button>\n\n            </form>\n            <Link to='/register'><button className=\"btn btn-primary\">Go to Register</button></Link>\n            <Link to='/'><button className=\"btn btn-primary\">Home</button></Link>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState, useEffect, useContext} from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport BottleFinder from '../apis/BottleFinder'\nimport {BottleContext} from '../context/BottleContext' \n\nconst Register = () => {\n    let history = useHistory();\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [errorDetails, setErrorDetails] = useState(\"\");\n    const [errCode, setErrCode] = useState(\"\");\n    const {setMessage} = useContext(BottleContext);\n    \n\n    \n    const handleSubmitRegister = async(e) => {\n        e.preventDefault()\n        try {\n            const result = await BottleFinder.post('/users/register', {\n                username, \n                password\n            })\n            setError('');\n            setErrCode('');\n            setMessage('Votre compte a bien été créé. Vous pouvez vous connecter.')\n            history.push('/login')\n            console.log(JSON.stringify(result))\n            \n        } catch (err) {\n            console.log(JSON.stringify(err.message.substr(-3)))\n            setErrCode(err.message.substr(-3))\n            console.log(\"code\", errCode)\n            \n            err ? setError('Erreur d\\'identifiants ou de mot de passe') : setError('');\n        }\n\n    \n    }\n\n    useEffect(() => {\n        errCode === \"500\" ? setErrorDetails('L\\'identifiant n\\'est pas un username') : setErrorDetails('');\n        errCode === \"409\" ? setErrorDetails('L\\'adresse username existe déjà') : setErrorDetails('');\n    }, [errCode])\n\n    return (\n        <div>\n            <h1>Register</h1>\n            <div className=\"mb-2\">\n                <div className=\"form-row\">\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                        id=\"username\" placeholder=\"Username\" type=\"text\" className=\"form-control\"/>\n                    </div>\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"password\">Mot de passe</label>\n                        <input value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        id=\"password\" placeholder=\"Mot de passe\" type=\"password\" className=\"form-control\"/>\n                    </div>\n                    \n                </div>\n                \n                {errorDetails ? <p className=\"alert alert-danger\">{errorDetails}</p> : ''}\n                {error ? <p className=\"alert alert-danger\">{error}</p> : ''}\n                <button \n                type=\"submit\"\n                onClick={handleSubmitRegister}\n                className=\"btn btn-primary\">Submit</button>\n\n            </div>\n            <Link to='/login'><button className=\"btn btn-primary\">Go to Login</button></Link>\n\n        </div>\n    )\n}\n\nexport default Register\n","import React, {useEffect, useContext} from 'react';\nimport {BottleContext} from '../context/BottleContext'\nimport { Link } from 'react-router-dom'\nimport jwtDecode from 'jwt-decode';\n\n\nconst Header = () => {\n    const {message, setMessage, user, setUser, setToken} = useContext(BottleContext);\n\n    useEffect(() => {\n        setTimeout(() => {\n            setMessage('')\n          }, 5000);\n          //console.log('user', user)\n    }, [message, setMessage])\n\n    useEffect(() => {\n        if(localStorage.getItem('bottletoken')) {\n            setUser(jwtDecode(localStorage.getItem('bottletoken')))\n            setToken(localStorage.getItem('bottletoken'))\n        } else {\n            setUser(null)\n        }\n\n    },[setUser, setToken])\n\n    const handleLogOut = () => {\n        setUser(null)\n        localStorage.removeItem('bottletoken');\n        \n    }\n\n    return (\n        <div>\n            {user? <Link to=\"/\"><button className=\"btn btn-primary float-right\" onClick={handleLogOut}>Déconnecter</button></Link> : <Link to='/login'><button className=\"btn btn-primary float-right\">Login</button></Link>}\n            <Link to='/'><button className=\"btn btn-primary\">Home</button></Link>\n            {user ? (user.is_admin === true ? <><Link to='/addbottle'><button className=\"btn btn-primary\">Add a Bottle</button></Link>\n            <Link to='/ingredients'><button className=\"btn btn-primary\">Ingredients</button></Link></> : null) : null}\n        </div>\n    )\n}\n\nexport default Header\n","import './App.css';\nimport { BottleContextProvider } from './context/BottleContext';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Home from './routes/Home';\nimport Login from './routes/Login';\nimport Register from './routes/Register';\nimport UpdatePage from './routes/UpdatePage';\nimport BottleDetailPage from './routes/BottleDetailPage';\nimport AddBottle from './routes/AddBottle';\nimport ProtectedRoute from './routes/ProtectedRoute';\nimport IngredientsList from './components/IngredientsList';\nimport Header from './components/Header';\n\nfunction App() {\n  return (\n    <BottleContextProvider>\n\n      <div className='container'>\n        <Router>\n          <Header />\n        \n          <Switch>\n            <Route exact path='/' component={Home}/>\n            {/* <ProtectedRoute exact path='/ingredients' component={IngredientsList}/> */}\n            {/* <ProtectedRoute exact path='/addbottle' component={AddBottle}/> */}\n            <Route exact path='/login' component={Login}/>\n            <Route exact path='/register' component={Register}/>\n            {/* <Route exact path='/bottles/:id' component={BottleDetailPage}/>\n            <Route exact path='/bottles/:id/update' component={UpdatePage}/> */}\n            <Route component={Home}/>\n          </Switch>\n        </Router>\n      </div>\n    </BottleContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}