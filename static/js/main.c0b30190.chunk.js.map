{"version":3,"sources":["context/BottleContext.js","apis/BottleFinder.js","components/DataTable/Header/index.js","components/DataTable/Search/index.js","components/DataTable/Pagination/index.js","assets/images/loading.gif","components/FullPageLoader/index.js","components/hooks/useFullPageLoader.js","components/BottlesList.js","routes/Home.js","routes/Login.js","routes/Register.js","routes/UpdatePage.js","routes/BottleDetailPage.js","components/Header.js","App.js","reportWebVitals.js","index.js"],"names":["BottleContext","createContext","BottleContextProvider","props","useState","bottles","setBottles","search","setSearch","token","setToken","user","setUser","ingredients","setIngredients","selectedBottle","setSelectedBottle","message","setMessage","Provider","value","addBottles","bottle","addIngredients","ingredient","children","axios","create","baseURL","Header","headers","onSorting","sortingField","setSortingField","sortingOrder","setSortingOrder","className","map","name","field","sortable","onClick","order","onSortingChange","class","Search","onSearch","type","style","width","placeholder","onChange","e","target","PaginationComponent","total","itemsPerPage","currentPage","onPageChange","totalPages","setTotalPages","useEffect","Math","ceil","paginationItems","useMemo","pages","i","push","Pagination","Item","active","Prev","disabled","Next","FullPageLoader","src","loading","alt","useFullPageLoader","setLoading","BottlesList","useContext","loader","showLoader","hideLoader","totalItems","setTotalItems","setCurrentPage","sorting","setSorting","setHeaders","history","useHistory","role","a","BottleFinder","get","Authorization","localStorage","getItem","fetchBottle","console","log","data","fetchData","bottleData","computedBottles","filter","toLowerCase","includes","category","country","length","reversed","sort","b","localeCompare","slice","page","id","vintage","Home","date","Date","getTime","jwtDecode","exp","removeItem","Login","username","setUsername","password","setPassword","setError","errCode","setErrCode","handleSubmitLogin","preventDefault","post","result","access_token","setItem","JSON","stringify","substr","action","htmlFor","to","Register","error","errorDetails","setErrorDetails","handleSubmitRegister","UpdatePage","useParams","setName","image","setImage","special","setSpecial","price","setPrice","base","setBase","status","setStatus","response","Bottle","handleSubmit","method","BottleDetailPage","setBottleData","err","handleDelete","stopPropagation","delete","window","location","reload","handleUpdate","alcohol","volume","details","setTimeout","is_admin","App","exact","path","component","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c0b30190.chunk.js","sourcesContent":["import React, {useState, createContext} from 'react';\n\nexport const BottleContext = createContext();\n\nexport const BottleContextProvider = (props) => {\n    const [bottles, setBottles] = useState([]);\n    const [search, setSearch] = useState(\"\");\n    const [token, setToken] = useState(\"\");\n    const [user, setUser] = useState(null);\n    const [ingredients, setIngredients] = useState([]);\n    \n    const [selectedBottle, setSelectedBottle] = useState(null)\n    const [message, setMessage] = useState(null)\n\n    const addBottles = (bottle) => {\n        setBottles([...bottles, bottle]);\n    }\n    const addIngredients = (ingredient) => {\n        setIngredients([...ingredients, ingredient]);\n    }\n    \n\n    return (\n        <BottleContext.Provider value={{\n            bottles, setBottles, addBottles, \n            search, setSearch, \n            selectedBottle, setSelectedBottle, \n            message, setMessage, \n            token, setToken, \n            user, setUser, \n            ingredients, setIngredients, addIngredients\n            }}>\n            {props.children}\n        </BottleContext.Provider>\n    );\n}","import axios from 'axios';\n\nexport default axios.create({\n    // baseURL:\"https://api-apero-bar.herokuapp.com/api\",\n    baseURL:\"http://localhost:8080/api\",\n})","import React, {useState} from 'react'\n\nconst Header = ({headers, onSorting}) => {\n\n    const [sortingField, setSortingField] = useState(\"\");\n    const [sortingOrder, setSortingOrder] = useState(\"asc\");\n\n    const onSortingChange = field => {\n        const order = field === sortingField && sortingOrder === \"asc\" ? \"desc\" : \"asc\";\n        setSortingField(field);\n        setSortingOrder(order);\n        onSorting(field, order);\n    }\n\n    return (\n        <thead className=\"bg-primary text-white\">\n            <tr>\n                {headers.map( ({name, field, sortable}) => (\n                <th key={name}\n                    onClick= {() => sortable ? onSortingChange(field) : null }\n                >{name} \n                \n                {sortingField && sortingField === field && (\n                    sortingOrder === \"asc\" ? <i className=\"fas fa-arrow-down\"></i> : <i class=\"fas fa-arrow-up\"></i>\n                )}\n                </th>))}\n            </tr>\n        </thead>\n    )\n}\n\nexport default Header\n","import React, {useState} from 'react'\n\n\nconst Search = ({onSearch}) => {\n    const [search, setSearch] = useState('');\n\n    const onInputChange = (value) => {\n        setSearch(value);\n        onSearch(value);\n    }\n\n    return (\n        <input \n        type=\"text\"\n        className=\"form-control\"\n        style={{width:\"240px\"}}\n        placeholder=\"Recherche\"\n        value={search}\n        onChange={(e) => {\n            onInputChange(e.target.value)\n        }}\n        />\n    )\n}\n\nexport default Search\n","import React, {useState, useEffect, useMemo} from 'react'\nimport Pagination from 'react-bootstrap/Pagination'\n\nconst PaginationComponent = ({total=0, itemsPerPage=3, currentPage=1, onPageChange}) => {\n    const [totalPages, setTotalPages] = useState(0)\n\n    useEffect(() => {\n        if( total > 0 && itemsPerPage > 0 ) {\n            setTotalPages(Math.ceil(total / itemsPerPage));\n        }\n    }, [total, itemsPerPage]);\n\n    const paginationItems = useMemo(() => {\n        const pages = [];\n        for(let i=1; i<= totalPages; i++){\n            pages.push(<Pagination.Item key={i} active={i === currentPage} onClick={() => onPageChange(i)}>\n                {i}\n            </Pagination.Item>);\n        }\n        return pages\n    }, [ totalPages, currentPage, onPageChange ])\n    \n    if (totalPages === 0) return null;\n\n\n    return (\n    <Pagination>\n        <Pagination.Prev onClick={ () => onPageChange(currentPage-1)} disabled={currentPage === 1}/>\n            {paginationItems}\n        <Pagination.Next onClick={ () => onPageChange(currentPage+1)} disabled={currentPage === totalPages}/>\n    </Pagination>\n    );\n}\n\nexport default PaginationComponent\n","export default __webpack_public_path__ + \"static/media/loading.2187296e.gif\";","import React from 'react'\nimport loading from '../../assets/images/loading.gif'\n\n\nconst FullPageLoader = () => {\n    return (\n        <div className=\"fp-container\">\n            <img src={loading} alt=\"chargement\" className=\"fp-loader\"/>\n        </div>\n    )\n}\n\nexport default FullPageLoader;\n","import React, {useState} from 'react'\nimport FullPageLoader from '../FullPageLoader'\n\nconst useFullPageLoader = () => {\n    const [loading, setLoading] = useState(false)\n    return [ \n        loading ? <FullPageLoader /> : null,\n        () => setLoading(true), //Show loader\n        () => setLoading(false) //Hide Loader\n     ]\n}\n\nexport default useFullPageLoader\n","import React, {useEffect, useContext, useState, useMemo} from 'react';\nimport {BottleContext} from '../context/BottleContext'\nimport BottleFinder from '../apis/BottleFinder'\nimport Header from './DataTable/Header'\nimport Search from './DataTable/Search'\nimport Pagination from './DataTable/Pagination'\nimport useFullPageLoader from './hooks/useFullPageLoader'\nimport { useHistory } from 'react-router-dom';\nimport jwtDecode from 'jwt-decode';\n\n\nexport default function BottlesList(props) {\n    const {user, bottles, setBottles, token, setIngredients} = useContext(BottleContext);\n    const [loader, showLoader, hideLoader] = useFullPageLoader();\n    const [totalItems, setTotalItems] = useState(0);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [search, setSearch] = useState(\"\");\n    const [sorting, setSorting] = useState({field:\"\", order:\"\"});\n    const [headers, setHeaders] = useState([\n        {name: \"Nom\", field: \"name\", sortable:true},\n        // {name: \"Categorie\", field: \"category\", sortable:true},\n        {name: \"Type\", field: \"type\", sortable:true},\n        // {name: \"Pays/R√©gion\", field: \"country\", sortable:true},\n        {name: \"Mill√©sime\", field: \"vintage\", sortable:true},\n        // {name: \"‚Ç¨\", field: \"price\", sortable:true}\n        ])\n    let history = useHistory();\n    const ITEMS_PER_PAGE = 50;\n  \n\n    \n    useEffect(() => {\n    \n    if(user && user.role == 'admin') {\n        setHeaders([...headers, {name: \"actions\", field: \"actions\"}])\n    }\n    // eslint-disable-next-line\n}, [user])\nuseEffect(() => {\n    \n    const fetchData = async () => {\n        showLoader();\n        try {\n\n            const fetchBottle = await BottleFinder.get(\"/bouteilles\",{headers : {\n                Authorization: `Bearer ${localStorage.getItem('bottletoken')}`\n            }\n        })\n            console.log(\"üöÄ ~ file: BottlesList.js ~ line 42 ~ fetchData ~ fetchBottle\", fetchBottle)\n            // const fetchIngredients = await BottleFinder.get(\"/ingredients\")\n\n            //console.log(response.data.Bottle)\n            setBottles(fetchBottle.data);\n            // setIngredients(fetchIngredients.data.Ingredient);\n            hideLoader();\n        }catch(err) {\n            console.log(err)\n        }\n    }\n    \n    fetchData()\n    // eslint-disable-next-line\n    }, [setBottles])\n\n\n    \n\n\n    const handleBottleSelect = (id) => {\n        history.push(`/bottles/${id}`)\n    }\n\n    const bottleData = useMemo(() => {\n        let computedBottles = bottles;\n        \n\n        if(search){\n            computedBottles = computedBottles.filter(\n                bottle => \n                bottle.name.toLowerCase().includes(search.toLowerCase()) ||\n                bottle.category.toLowerCase().includes(search.toLowerCase()) ||\n                bottle.type.toLowerCase().includes(search.toLowerCase()) ||\n                bottle.country.toLowerCase().includes(search.toLowerCase())\n                // bottle.country.toString().toLowerCase().includes(search.toLowerCase())\n                \n            )\n            \n        }\n        setTotalItems(computedBottles.length);\n\n\n        //Sorting bottles\n        if(sorting.field) {\n            const reversed = sorting.order === \"asc\" ? 1 : -1;\n            computedBottles = computedBottles.sort(\n                (a,b) => \n                reversed * a[sorting.field].localeCompare(b[sorting.field])\n            )}\n\n\n        //Current Page slice\n        return computedBottles.slice(\n            (currentPage -1) * ITEMS_PER_PAGE, \n            (currentPage - 1) * ITEMS_PER_PAGE + ITEMS_PER_PAGE)\n    }, [bottles, currentPage, search, sorting])\n\n    return (\n        <div>\n            \n             <div className=\"row w-100\">\n                <div className=\"col mb-3 col-12 text-center\">\n                    <div className=\"row\">\n                        <div className=\"col-md-6\">\n                            <Pagination \n                                total={totalItems}\n                                itemsPerPage={ITEMS_PER_PAGE}\n                                currentPage={currentPage}\n                                onPageChange={ page => setCurrentPage(page)}\n                            \n                            />\n\n                        </div>\n                        <div className=\"col-md-6 d-flex flex-row-reverse\">\n                            <Search \n                            onSearch={(value) => {\n                                setSearch(value);\n                                setCurrentPage(1)\n                            }}\n                            />\n                        </div> \n                    </div>\n                </div>\n\n\n            </div>\n            <table className=\"table table-hover\">\n                <Header headers={headers} onSorting={(field, order) => setSorting({field, order}) }/>\n                <tbody>\n                    \n                        {bottleData && bottleData.map(bottle => {\n                            return (\n                            <tr onClick={() => handleBottleSelect(bottle.id)} key={bottle.id}>\n                            \n                                <td>{bottle.name}</td>\n                                {/* <td>{bottle.category}</td> */}\n                                <td>{bottle.type}</td>\n                                {/* <td>{bottle.country}</td> */}\n                                <td>{bottle.vintage}</td>\n\n\n                            </tr>\n                            )\n                        })}\n\n                    \n                    \n                </tbody>\n            </table>\n            {loader}\n        </div>\n    )\n}\n","import jwtDecode from 'jwt-decode';\nimport React, {useContext, useEffect} from 'react'\nimport { Router, useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport BottleList from '../components/BottlesList'\nimport {BottleContext} from '../context/BottleContext'\n\n\n\n\nexport default function Home() {\n    const {message, user} = useContext(BottleContext);\n    let history = useHistory();\n\n    const date = new Date().getTime()/1000\n\n    useEffect(() => {\n        if (!localStorage.getItem('bottletoken')) {\n            history.push('/login')\n        } else if ((localStorage.getItem('bottletoken') && jwtDecode(localStorage.getItem('bottletoken')).exp < date)) {\n            localStorage.removeItem('bottletoken')\n            history.push('/login')\n        }\n    }, [])  \n\n    return (\n        <div>\n            {message ? <div className=\"alert alert-success\">{message}</div> : null}\n            <h1>Ap√©ro-Bar de Cyril & Christine</h1>\n            {/* {user?<h2>Bienvenue {user.username}</h2> :null} */}\n            \n            <BottleList />\n           {/*  <Autolist/> */}\n\n        </div>\n    )\n}\n","import React, {useContext, useState} from 'react'\nimport { useHistory, Link } from 'react-router-dom';\nimport BottleFinder from '../apis/BottleFinder'\nimport {BottleContext} from '../context/BottleContext'\nimport jwtDecode from 'jwt-decode';\n\nconst Login = () => {\n    let history = useHistory();\n    const {message, setMessage, setToken, setUser} = useContext(BottleContext);\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    // eslint-disable-next-line\n    const [error, setError] = useState(\"\");\n    //const [errorDetails, setErrorDetails] = useState(\"\");\n    const [errCode, setErrCode] = useState(\"\");\n    \n    \n\n\n    const handleSubmitLogin = async(e) => {\n        e.preventDefault()\n        \n        try {\n            const result = await BottleFinder.post('/auth', {\n                username, \n                password\n            })\n            setError('');\n            setErrCode('');\n            if(result.data.access_token){\n                localStorage.setItem('bottletoken',result.data.access_token);\n                setToken(result.data.access_token)\n                //console.log(jwtDecode(result.data.bottletoken))\n                setUser(jwtDecode(result.data.access_token))\n\n                setMessage('Vous √™tes connect√©')\n                history.push('/')\n            }\n            \n        } catch (err) {\n            console.log(JSON.stringify(err.message.substr(-3)))\n            setErrCode(err.message.substr(-3))\n            console.log(\"code\", errCode)\n            console.log(err)\n            \n        }\n    }\n\n    return (\n        <div>\n            <h1>Login</h1>\n            {message ? <div className=\"alert alert-success\">{message}</div> : null}\n            <form className=\"mb-2\" action=\"submit\">\n                <div className=\"form-row\">\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                        id=\"username\" placeholder=\"Username\" type=\"text\" className=\"form-control\"/>\n                    </div>\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"password\">Mot de passe</label>\n                        <input value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        id=\"password\" placeholder=\"Mot de passe\" type=\"password\" className=\"form-control\"/>\n                    </div>\n                    \n                </div>\n                \n                \n                <button \n                type=\"submit\"\n                onClick={handleSubmitLogin}\n                className=\"btn btn-primary\">Submit</button>\n\n            </form>\n            <Link to='/register'><button className=\"btn btn-primary\">Go to Register</button></Link>\n            <Link to='/'><button className=\"btn btn-primary\">Home</button></Link>\n        </div>\n    )\n}\n\nexport default Login\n","import React, {useState, useEffect, useContext} from 'react'\nimport { useHistory, Link } from 'react-router-dom'\nimport BottleFinder from '../apis/BottleFinder'\nimport {BottleContext} from '../context/BottleContext' \n\nconst Register = () => {\n    let history = useHistory();\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [errorDetails, setErrorDetails] = useState(\"\");\n    const [errCode, setErrCode] = useState(\"\");\n    const {setMessage} = useContext(BottleContext);\n    \n\n    \n    const handleSubmitRegister = async(e) => {\n        e.preventDefault()\n        try {\n            const result = await BottleFinder.post('/users/register', {\n                username, \n                password\n            })\n            setError('');\n            setErrCode('');\n            setMessage('Votre compte a bien √©t√© cr√©√©. Vous pouvez vous connecter.')\n            history.push('/login')\n            \n        } catch (err) {\n            setErrCode(err.message.substr(-3))\n            console.log(\"code\", errCode)\n            \n            err ? setError('Erreur d\\'identifiants ou de mot de passe') : setError('');\n        }\n\n    \n    }\n\n    useEffect(() => {\n        errCode === \"500\" ? setErrorDetails('L\\'identifiant n\\'est pas un username') : setErrorDetails('');\n        errCode === \"409\" ? setErrorDetails('L\\'adresse username existe d√©j√†') : setErrorDetails('');\n    }, [errCode])\n\n    return (\n        <div>\n            <h1>Register</h1>\n            <div className=\"mb-2\">\n                <div className=\"form-row\">\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"username\">Username</label>\n                        <input value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                        id=\"username\" placeholder=\"Username\" type=\"text\" className=\"form-control\"/>\n                    </div>\n                    <div className=\"form-group col-8\">\n                        <label htmlFor=\"password\">Mot de passe</label>\n                        <input value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                        id=\"password\" placeholder=\"Mot de passe\" type=\"password\" className=\"form-control\"/>\n                    </div>\n                    \n                </div>\n                \n                {errorDetails ? <p className=\"alert alert-danger\">{errorDetails}</p> : ''}\n                {error ? <p className=\"alert alert-danger\">{error}</p> : ''}\n                <button \n                type=\"submit\"\n                onClick={handleSubmitRegister}\n                className=\"btn btn-primary\">Submit</button>\n\n            </div>\n            <Link to='/login'><button className=\"btn btn-primary\">Go to Login</button></Link>\n\n        </div>\n    )\n}\n\nexport default Register\n","import React, {useState, useEffect, useContext} from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport BottleFinder from '../apis/BottleFinder'\nimport {BottleContext} from '../context/BottleContext'\n\n\nexport default function UpdatePage(props) {\n    \n        const {token} = useContext(BottleContext);\n        const {id} = useParams();\n        let history = useHistory();\n        const [name, setName] = useState(\"\")\n        const [image, setImage] = useState(\"\")\n        const [special, setSpecial] = useState(\"\")\n        const [price, setPrice] = useState(\"\")\n        const [base, setBase] = useState(\"\")\n        const [status, setStatus] = useState(\"\")\n        \n       \n\n    useEffect(() => {\n        const fetchData = async() => {\n            const response = await BottleFinder.get(`/bouteilles/${id}`,\n            {headers : {\n                Authorization: `Bearer ${localStorage.getItem('bottletoken')}`\n            }});\n            console.log(response.data.Bottle)\n            setName(response.data.name)\n            setImage(response.data.image)\n            // setPrice(response.data.Bottle.price)\n            // setBase(response.data.Bottle.base)\n            // setStatus(response.data.Bottle.status)\n            // setSpecial(response.data.Bottle.special)\n            \n\n        }\n        fetchData()\n        \n    }, [id])\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const data = {\n            \"categoryId\": 1,\n            \"typeId\": 1,\n            \"name\": \"nouveau\",\n            \"vintage\": 0,\n            \"details\": \"string\",\n            \"image\": \"string\",\n            \"countryId\": 1,\n            \"volume\": \"string\",\n            \"alcohol\": 0,\n            \"quantity\": 1,\n            \"display\": true,\n            \"toBuy\": true\n          }\n        try {\n            await BottleFinder(`/bouteilles`, {\n            method: 'post',\n            headers : {\n                'Authorization': `Bearer ${localStorage.getItem('bottletoken')}`,\n                'Content-Type': 'application/json'\n            },\n            data : data\n        });\n        history.push(\"/\");\n        } catch (err) {\n            console.log(err)\n        }\n        \n                \n    }\n\n        \n    return (\n        <div>\n            <h1 className=\"text-center\">{name}</h1>\n            <p className=\"text-center\">Mise √† jour</p>\n            \n            <form action=\"submit\">\n                <div className=\"form-group\">\n                    <label htmlFor=\"name\">Nom</label>\n                    <input value={name} onChange={e => setName(e.target.value)} id=\"name\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"imge\">Image</label>\n                    <input value={image} onChange={e => setImage(e.target.value)} id=\"image\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"price\">Prix</label>\n                    <input value={price} onChange={e => setPrice(e.target.value)} id=\"price\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"base\">Base</label>\n                    <input value={base} onChange={e => setBase(e.target.value)} id=\"base\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"status\">Statut</label>\n                    <input value={status} onChange={e => setStatus(e.target.value)} id=\"status\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"special\">Speciale ?</label>\n                    <input value={special} onChange={e => setSpecial(e.target.value)} id=\"special\" type=\"text\" className=\"form-control\"/>\n                </div>\n                <button type=\"submit\" onClick={handleSubmit} className=\"btn btn-primary\">Submit</button>\n                <button onClick={() => history.push(`/bottles/${id}`)} className=\" btn btn-primary mx-5\">Cancel</button>\n            </form>\n        </div>\n    )\n}\n","import React, {useState, useEffect, useContext} from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\nimport BottleFinder from '../apis/BottleFinder'\nimport { BottleContext } from '../context/BottleContext';\n\n\nexport default function BottleDetailPage() {\n\n        const {id} = useParams();\n        const {user} = useContext(BottleContext);\n        const [name, setName] = useState(\"\")\n        const [bottleData, setBottleData] = useState([])\n        let history = useHistory()\n\n    useEffect(() => {\n        try {\n\n            const fetchData = async() => {\n                const response = await BottleFinder.get(`/bouteilles/${id}`, \n                {headers : {\n                    Authorization: `Bearer ${localStorage.getItem('bottletoken')}`\n                }});\n                console.log(response.data)\n                setName(response.data.name)\n                setBottleData(response.data)\n            }\n                fetchData()\n        }\n        catch(err){\n\n            console.log(err)\n        }\n        \n    }, [id])\n\n    const handleDelete =  async (e, id) => {\n\n        console.log(id)\n            e.stopPropagation();\n            try {\n                history.push('/')\n\n                const response = await BottleFinder.delete(`/bouteilles/${id}`, \n                {headers : {\n                    Authorization: `Bearer ${localStorage.getItem('bottletoken')}`\n                }});\n                // setBottles(bottles.filter(bottle => {\n                //     return bottle.id !== id\n                // }))\n                window.location.reload()\n                \n            } catch (err) {\n                console.log(err)\n            }\n\n        }\n    \n        const handleUpdate = (e, id) => {\n            e.stopPropagation();\n            history.push(`/bottles/${id}/update`)\n        }\n\n        \n    return (\n        <div>\n            \n            \n            <h1 className=\"text-center\">{name}</h1>\n            \n            <form action=\"\">\n            {user ? (user.role == 'admin' ? <div className=\"d-flex justify-content-between\">\n                                    <button className=\"btn btn-warning\" onClick={(e) => handleUpdate(e, id)}>Mettre √† jour</button>\n                                    \n                                    <Link to=\"/\" ><button className=\"btn btn-danger\" onClick={(e) => handleDelete(e, id)}>Supprimer</button></Link>\n                                </div> : null) : null}\n                <div className=\"form-group\">\n                    <p><label htmlFor=\"image\">Image : </label> <b>{bottleData.image}</b></p>\n                    <p><label htmlFor=\"categorie\">Cat√©gorie : </label> <b>{bottleData.category}</b></p>\n                    <p><label htmlFor=\"type\">Type : </label> <b>{bottleData.type}</b></p>\n                    <p><label htmlFor=\"country\">Pays/R√©gion : </label> <b>{bottleData.country}</b></p>\n                    <p><label htmlFor=\"vintage\">Mill√©sime/Age : </label> <b>{bottleData.vintage}</b></p>\n                    <p><label htmlFor=\"alcohol\">Degr√© alcool : </label> <b>{bottleData.alcohol} ¬∞</b></p>\n                    <p><label htmlFor=\"volume\">Volume : </label> <b>{bottleData.volume}cl</b></p>\n                    <p><label htmlFor=\"detail\">D√©tails : </label> <b>{bottleData.details}</b></p>\n                    \n                    \n                </div>\n                \n            </form>\n        </div>\n    )\n}\n","import React, {useEffect, useContext} from 'react';\nimport {BottleContext} from '../context/BottleContext'\nimport { Link } from 'react-router-dom'\nimport jwtDecode from 'jwt-decode';\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\n\n\nconst Header = () => {\n    const {message, setMessage, user, setUser, setToken} = useContext(BottleContext);\n    let history = useHistory()\n    useEffect(() => {\n        setTimeout(() => {\n            setMessage('')\n          }, 5000);\n          //console.log('user', user)\n    }, [message, setMessage])\n\n    useEffect(() => {\n        if(localStorage.getItem('bottletoken')) {\n            setUser(jwtDecode(localStorage.getItem('bottletoken')))\n            setToken(localStorage.getItem('bottletoken'))\n        } else {\n            setUser(null)\n        }\n\n    },[setUser, setToken])\n\n    const handleLogOut = () => {\n        setUser(null)\n        localStorage.removeItem('bottletoken');\n        window.location.reload()\n        \n    }\n\n    return (\n        <div>\n            {user? <Link to=\"/\"><button className=\"btn btn-primary float-right\" onClick={handleLogOut}>D√©connecter</button></Link> : <Link to='/login'><button className=\"btn btn-primary float-right\">Login</button></Link>}\n            <Link to='/'><button className=\"btn btn-primary\">Home</button></Link>\n            {user ? (user.is_admin === true ? <><Link to='/addbottle'><button className=\"btn btn-primary\">Add a Bottle</button></Link>\n            <Link to='/ingredients'><button className=\"btn btn-primary\">Ingredients</button></Link></> : null) : null}\n        </div>\n    )\n}\n\nexport default Header\n","import './App.css';\nimport { BottleContextProvider } from './context/BottleContext';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Home from './routes/Home';\nimport Login from './routes/Login';\nimport Register from './routes/Register';\nimport UpdatePage from './routes/UpdatePage';\nimport BottleDetailPage from './routes/BottleDetailPage';\nimport AddBottle from './routes/AddBottle';\nimport ProtectedRoute from './routes/ProtectedRoute';\nimport IngredientsList from './components/IngredientsList';\nimport Header from './components/Header';\n\nfunction App() {\n  return (\n    <BottleContextProvider>\n\n      <div className='container'>\n        <Router>\n          <Header />\n        \n          <Switch>\n            <Route exact path='/' component={Home}/>\n            {/* <ProtectedRoute exact path='/ingredients' component={IngredientsList}/> */}\n            {/* <ProtectedRoute exact path='/addbottle' component={AddBottle}/> */}\n            <Route exact path='/login' component={Login}/>\n            <Route exact path='/register' component={Register}/>\n            <Route exact path='/bottles/:id' component={BottleDetailPage}/>\n            <Route exact path='/bottles/:id/update' component={UpdatePage}/>\n            <Route component={Home}/>\n          </Switch>\n        </Router>\n      </div>\n    </BottleContextProvider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}